<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title> Rock Paper Scissors</title>
</head>

<body>
    <script>
        
        let computerScore = 0;
        let playerScore = 0;
        let tie = 0;
        let games = 0;
        


        ///use to capitalize first letter 
        function capitalize(someString) {
            let newString = someString.toLowerCase()
            return newString.replace(newString[0], newString[0].toUpperCase())

        }
        ///get computer choice
        function computerPlay() {
            let list = ['Rock', 'Paper', 'Scissors']
            let number = Math.floor(Math.random() * list.length)
            return list[number]
        }
        ///outputs score
        function score() {
            let yourScore = "Your score: " + playerScore
            let compScore = "\nComputer score: " + computerScore
            return yourScore + compScore
        }
        ///play a round, output each response, add to the score
        function playRound(playerSelection, computerSelection) {
            if (playerSelection == computerSelection) {
                tie = tie + 1;
                return "TIE!"
            }
            else if (playerSelection == "Rock") {
                if (computerSelection == "Scissors") {
                    playerScore = playerScore + 1;
                    return "Computer: Scissors\nYou: Rock\n" + score() + "\n"
                }
                else if (computerSelection == "Paper") {
                    computerScore = computerScore + 1;
                    return "Computer: Paper\nYou: Rock\n" + score() + "\n"
                }
            }
            else if (playerSelection == "Paper") {
                if (computerSelection == "Rock") {
                    playerScore = playerScore + 1;
                    return "Computer: Rock\nYou: Paper\n" + score() + "\n"
                }
                else if (computerSelection == "Scissors") {
                    computerScore = computerScore + 1;
                    return "Computer: Scissors\nYou: Paper\n" + score() + "\n"
                }
            }
            else if (playerSelection == "Scissors") {
                if (computerSelection == "Paper") {
                    playerScore = playerScore + 1;
                    return "Computer: Paper\nYou: Scissors\n" + score() + "\n"
                }
                else if (computerSelection == "Rock") {
                    computerScore = computerScore + 1;
                    return "Computer: Rock\nYou: Scissors\n" + score() + "\n"
                }
            }
            else {
                return "Invalid response"
            }

        }


        //game loop function to play 5 times
        function game() {

            for (let i = 0; games < 5; i++) {

                let ask = prompt("Rock, Paper or Scissors?").toLowerCase()
                let player = capitalize(ask)//capitalize player choice
                let computer = computerPlay().toString()
                games = games + 1
                console.log(playRound(player, computer))

            }
        }

        //invoke game
        game()

        ///outputs win lose or tie
        function result() {
            if (playerScore > computerScore) {
                return "You WON the game!"
            }
            else if (computerScore > playerScore) {
                return "You LOST the game!"
            }
            else {
                return "It's a TIE!"
            }


            
        }
        console.log(result())
        console.log(score() + "\nTies: " + tie)


    </script>
</body>

</html>